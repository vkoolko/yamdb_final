![Yamdb_workflow](https://github.com/vkoolko/yamdb_final/workflows/yamdb_workflow.yaml/badge.svg)

# API к сервису YaMDb

---

### Описание сервиса

---

Сервис **YaMDb** собирает **отзывы (Review)** пользователей на **произведения (Titles)**. Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список **категорий (Category)** может быть расширен администратором (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха.
Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.

Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.

### Документация к сервису находится по адресу (после установки и запуска):
`http://127.0.0.1/redoc/`


## Установка и запуск

Склонировать репозиторий

    git clone git@github.com:vkoolko/infra_sp2.git

Запустить docker-compose и собрать контейнеры  командой  

```
docker-compose up -d --build
```

В контейнере web нужно выполнить миграции, создать суперпользователя и собрать статические файлы.

<h3>Выполните по очереди команды:</h3>

```
docker-compose exec web python manage.py migrate 

docker-compose exec web python manage.py createsuperuser

docker-compose exec web python manage.py collectstatic --no-input
```
<h3>Для заполнения базы данными, выполните команду.</h3>
```
sudo docker-compose exec web python manage.py loaddata fixtures.json
```

<h3>Чтобы остановить контейнер, используйте команду</h3>

```
docker-compose down
```

### Примеры запросов/ответов:

#### Запрос на получение токена авторизации:

```json
{
  "username": "Ваш логин",
  "confirmation_code": "Код подтверждения"
}
```
#### Ответ:

```json
{
  "token": "Токен для авторизации на сервисе"
}
```

#### Contributors:

[Виталий](https://github.com/vkoolko) - система аутентификации, авторизации, управление доступом пользователей. 

[Максим](https://github.com/Alfaram) - отзывы (Review) и комментарии (Comments):  модели, представления, настраивает эндпойнты, определяет права доступа для запросов. рейтинги произведений

[Светлана](https://github.com/lanazzk) - категории (Categories), жанры (Genres) и произведения (Titles): модели, представления и эндпойнты для них

### Лицензия [MIT](https://opensource.org/licenses/MIT)

